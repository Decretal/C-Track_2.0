const char webpageCode[] PROGMEM =
R"=====(
<!--
    HTML_HELPER 
    const char html_page[] = TO_STRING( 
<!-- -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd%22%3E
<html>

<body>
<p><b><br><center><font size="8em"> CTRACK - Entwicklung eines Ortungssystemes fuer Weidetiere </font></center></br></b></p>

<div align="center">
  <table border="5" width="70%">
      <tr>
      <th>GPS-Daten</th>
    </tr>
    <tr>
      <td> <span id = "LoRaData"> </span></td>
    </tr>
  </table>

<script> 
    //var LoRaData;
    var gateway = `ws://${window.location.hostname}/ws`;
    var websocket;

    window.addEventListener('load', onLoad);

  function onLoad(event) {
    init();
  }

  function init() {
    console.log('Trying to open a WebSocket connection...');
    websocket = new WebSocket(gateway);
    websocket.onmessage = onMessage;
    websocket.onopen = onOpen;
  };

  function onOpen(event) {
    console.log('Connection opened');
  }

  function onMessage(event) {
    console.log(`Received a notification from ${event.origin}`);
    console.log(event);
    var obj = JSON.parse(event.data);
    LoRaData = JSON.parse(event.data);

    console.log(event.data);
    console.log(LoRaData);
    
    document.getElementById('LoRaData').innerHTML = obj.LoRaData_received;

  }
    
</script>
</html>

<!-- ); // end of TO_STRING <!-- -->

)=====";